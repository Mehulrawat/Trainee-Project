<div class="change-password">
<div class="page">
  <h2>Change Password</h2>

  <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
    <div class="field">
      <label>Current Password</label>
      <input type="password" formControlName="currentPassword" />
      <small class="error" *ngIf="f.currentPassword.touched && f.currentPassword.errors?.['required']">
        Current password is required.
      </small>
    </div>

    <div class="field">
      <label>New Password</label>
      <input type="password" formControlName="newPassword" />
      <!-- <small *ngIf="f.newPassword.touched && f.newPassword.errors" class="error">
        Password must be at least 8 chars and include uppercase, lowercase, number, and special character.
      </small> -->
    </div>

    <div class="field">
      <label>Confirm New Password</label>
      <input type="password" formControlName="confirmNewPassword" />
      <small class="error" *ngIf="f.confirmNewPassword.touched && f.confirmNewPassword.errors?.['mismatch']">
        Passwords do not match.
      </small>
      <small class="error" *ngIf="f.confirmNewPassword.touched && f.confirmNewPassword.errors?.['required']">
        Confirmation is required.
      </small>
    </div>

    <button type="submit" [disabled]="isSubmitting || form.invalid">Change Password</button>

    <div class="msg success" *ngIf="successMessage">{{ successMessage }}</div>
    <div class="msg error" *ngIf="errorMessage">{{ errorMessage }}</div>
  </form>
</div>
</div>
<style>
.page { max-width: 520px; }
.field { margin-bottom: 12px; display:flex; flex-direction:column; }
.error { color: #c62828; }
.msg.success { color: #2e7d32; margin-top: 8px; }
.msg.error { color: #c62828; margin-top: 8px; }
</style>

