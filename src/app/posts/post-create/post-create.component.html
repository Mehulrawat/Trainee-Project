<div class="page">
  <h2>Create Post</h2>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <div>
      <label>Title</label>
      <input type="text" formControlName="title" />
    </div>

    <div>
      <label>Category</label>
      <select formControlName="category">
        <option *ngFor="let key of categoryKeys" [value]="postCategory[key]">
          {{ key }}
        </option>
      </select>
    </div>

    <div>
      <label>Content</label>
      <textarea rows="5" formControlName="content"></textarea>
    </div>

    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="success">{{ successMessage }}</div>

    <button type="submit" [disabled]="form.invalid || isSubmitting">
      {{ isSubmitting ? 'Saving...' : 'Go' }}
    </button>
  </form>
</div>
